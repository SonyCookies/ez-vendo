🧭 OVERVIEW

The system is a Captive Portal Access System that controls internet access through an RFID-based mechanism, offering:

Trial Access (limited-time, limited-use sessions)

Registered User Access (account-based, prepaid or balance-based)

Account Portal (for managing usage, login, and registration)

It consists of three main parts:

Captive Portal (Access Gateway) – handles RFID taps, trial sessions, and portal screens

User & Session Database – stores user accounts, trial counts, and active sessions

Account Portal – web interface for registered users to log in, check balance, and manage sessions

🧩 SYSTEM FLOW STRUCTURE

Here’s the overall flow summary from RFID tap → internet access → registration → account login.

A. Entry Point: RFID Tap at the Captive Portal

RFID Detected

The system reads a unique UID from the RFID tag.

This UID acts as the user’s temporary identity.

System Checks UID

Checks if UID already exists in the database:

If found: → user is registered (go to flow B)

If not found: → user is unregistered (go to flow C)

B. Registered User Flow

Purpose: Let known users access the internet based on account balance or subscription.

Check Account Balance or Active Subscription

If balance > 0 or active time available, allow internet access.

If balance = 0, show “insufficient balance” screen.

Start Internet Session

Marks the start of a session in the system logs.

The relay or gateway opens the internet access route for the user.

During Session

Tracks usage time or data.

System can automatically deduct from balance or end session after quota expires.

End of Session

When the user manually disconnects or balance runs out:

System logs session end time.

Internet access is turned off.

Go to Account Portal (optional)

Registered users can view their balance, session history, or top-up.

C. Unregistered User Flow (Trial System)

Purpose: Let new users experience internet access temporarily before registration.

Trial Eligibility Check

System checks how many trials this UID has used.

If trial_count < 3, a new trial can start.

If trial_count ≥ 3, the user is prompted to register.

Start Trial Session

Grants temporary access for a fixed duration (e.g., 30 minutes).

Saves session info in the database (UID, start time, duration).

During Trial

Tracks countdown timer until time expires.

User can choose to stop early or wait until automatic disconnection.

End of Trial

When time ends, the system:

Stops internet access.

Updates trial_count for that UID.

Displays “Trial Ended” message and registration invitation.

Trial Limit Reached

Once user has reached the trial limit (e.g., 3 sessions), system disables further trials.

Prompts the user to register to continue using the service.

D. Registration Flow (Trial → Account Creation)

Purpose: Convert trial users to registered users.

Registration Prompt

Displayed when user’s trials are used up or when they click “Register Now”.

Registration Form

User enters required info (email, username, password, etc.).

The system links their existing UID to the new account record.

Account Creation Confirmation

Once successfully created, user is now tagged as “registered”.

Redirected to the login screen.

E. Account Portal Flow (Registered User Management)

Purpose: Allow registered users to log in, check balances, view usage, and manage sessions.

Login Screen

User inputs credentials (e.g., email + password).

System authenticates and grants portal access.

Portal Dashboard

Displays:

Remaining balance or active time

Usage history

Last session summary

“Top up” or “Extend access” button

“Logout” option

Active Session Monitoring

Portal may show ongoing session status in real-time.

Logout Flow

Ends portal session and returns to login screen.

🔄 FULL INTERACTION FLOW (Narrative Overview)

Here’s how the whole journey fits together in one continuous loop:

User taps RFID at the captive portal.

The system identifies the UID and checks:

if it’s registered → goes to registered logic;

if it’s new → trial eligibility check.

Trial users get limited sessions (e.g., 3 × 30 min each).

After using up trials, they’re prompted to register.

Registration links UID → account and creates credentials.

Registered users can then access internet based on balance or subscription.

When online, the system logs start & stop times, calculates charges or time used.

Users can later log into the Account Portal to see usage or reload balance.

Every new tap starts the same process, but system behavior changes based on:

whether UID is registered,

whether trials are left,

whether balance is available.

⚙️ COMPONENT LOGIC BREAKDOWN
1. Identification Logic

Every RFID UID is checked in the system.

Determines what type of access logic to run (Trial or Registered).

Ensures each UID has its own record.

2. Trial Control Logic

Limits the number of trials to prevent abuse.

Automatically expires after a preset duration.

Displays countdown or progress indicator.

3. Session Management

Handles start and end of all online sessions.

Keeps session history for both trial and registered users.

Can be used later for analytics or billing.

4. Registration Management

Transitions a trial user to a registered state.

Links UID to account credentials for identification.

Ensures one UID = one unique account.

5. Balance or Subscription Management

Tracks account credits or validity period.

Deducts usage automatically or ends session upon reaching zero.

Prevents connection if insufficient balance.

6. Interface Layer

Handles all user-facing screens (teaching, dashboard, register, login).

Reacts based on system responses and user actions.

Displays proper feedback:

“Trial started”

“Trial expired”

“Please register”

“Session ended”

“Low balance”

7. Administrative Oversight

Allows administrators to:

View all active sessions.

Reset trial counters.

Add or modify user accounts.

View reports of usage and balances.

📊 DATA FLOW (Conceptual)
Step	Input	Process	Output
1	RFID UID	Check if registered	user type (trial/registered)
2	UID + status	Verify trials or balance	access decision
3	Access decision	Start/deny session	session ID / message
4	Session active	Track time	live duration
5	Session end	Compute result	updated record
6	(optional)	Register user	new account linked to UID
7	Account login	View data	dashboard summary
🧠 SYSTEM BEHAVIOR EXPLANATION
Condition	System Response	User Feedback
New UID detected	Create trial record	“Welcome! Starting trial session.”
Trial limit reached	Block trial start	“Trial limit reached. Please register.”
Registered + enough balance	Start paid session	“Connected successfully.”
Registered + zero balance	Deny access	“Insufficient balance.”
Session timeout reached	End connection	“Your session has expired.”
Manual stop	End connection	“Session ended.”
Internet unavailable	Hold connection	“Internet currently unavailable.”
🧩 HOW EACH SCREEN FITS (Based on Your Three Screenshots)
Screen	Function	Flow Connection
Main Captive Screen (Tap RFID)	Entry point	Starts UID identification (A)
Teaching / Trial Screen	Trial introduction & feedback	(C) Trial stage
Trial Dashboard / Countdown	Shows remaining trial time	(C3) During Trial
Registration Screen	After trials exhausted	(D1–D3) Registration
Account Portal Login	For registered users	(E1) Login
Account Dashboard	Shows balance, usage	(E2–E3) Active user panel
Logout	Ends account session	(E4) Exit flow
🔐 CONTROL FLOW SUMMARY (Decision Map)
[TAP RFID] 
   ↓
[Check UID]
   ├── UID found → [Registered User]
   │       ├── Balance > 0 → [Start Paid Session] → [Dashboard]
   │       └── Balance = 0 → [Insufficient Balance Message]
   │
   └── UID not found → [Trial Flow]
           ├── Trial Count < 3 → [Start Trial] → [Countdown Screen]
           └── Trial Count = 3 → [Prompt Registration] → [Register Form] → [Login Portal]

📘 EXPLANATION SUMMARY (Simplified for Documentation)

Access Identification – The system recognizes users by RFID UID.

Trial Access – Temporary, time-limited, and restricted by trial count.

Registration Process – Converts temporary trial users into permanent registered users.

Account Portal – Manages registered user activity, balance, and sessions.

Session Management – Controls when access starts, tracks duration, and handles disconnection.

Dynamic Feedback – User interface adapts based on user type and current state.